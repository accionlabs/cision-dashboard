<div *ngIf="isVisible" class="widget-manager-modal" style="z-index: 9999;">
  <div class="widget-manager-backdrop" (click)="handleBackdropClick($event)"></div>
  <div class="widget-manager-content">
    <div class="widget-manager-header">
      <h3>Ajouter un widget</h3>
      <button class="widget-manager-close" (click)="handleClose()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <div class="widget-manager-body">
      <div *ngFor="let category of widgetCategories" class="widget-category">
        <h4 class="widget-category-title">{{category.name}}</h4>
        <div class="widget-types-grid">
          <button *ngFor="let widget of category.widgets"
                  class="widget-type-btn"
                  (click)="handleAddWidget(widget.type)">
            <div class="widget-type-title">{{widget.name}}</div>
            <div class="widget-type-description">
              {{getWidgetDescription(widget.type)}}
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
